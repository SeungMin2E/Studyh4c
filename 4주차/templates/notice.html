{% extends "base.html" %}
{% block title %}게시판{% endblock %}

{% block content %}
<h2>게시판</h2>

<a href="/write" class="button">글쓰기</a>

<div class="search-box">
  <form method="get" action="/search">
    <select name="type">
      <option value="title">제목</option>
      <option value="content">내용</option>
      <option value="all">제목+내용</option>
    </select>

    <input type="text" name="q" placeholder="검색어">
    <button type="submit">검색</button>
  </form>
</div>
{% for row in rows %}
  <a href="/view/{{ row.id }}">{{ row.title }}</a><br>
{% endfor %}

<table>
  <tr>
    <th>번호</th>
    <th>제목</th>
    <th>작성자</th>
    <th>날짜</th>
    <th>관리</th>
  </tr>

{% for post in posts %}
<tr>
  <td>{{ loop.index }}</td>
  <td>
    <a href="/view/{{ post.id }}">{{ post.title }}</a>
  </td>
  <td><a href="/user/{{ post.user_id }}">
  {{ post.writer }}
</a></td>
  <td>{{ post.created_at }}</td>
  <td>
    <a href="/edit/{{ post.id }}">수정</a> |
    <a href="/delete/{{ post.id }}" onclick="return confirm('삭제?')">삭제</a>
  </td>
</tr>
{% endfor %}
</table>
{% endblock %}

